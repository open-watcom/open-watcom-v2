name: tests
description: 'Process OW tests'
inputs:
  suffix:
    description: 'artifact name suffix'
    required: true
    type: string
  owdebug:
    description: 'verbosed/debug output for GH Actions scripts development'
    required: false
    default: ''
    type: string
  path:
    description: 'path where tests are located'
    required: false
    default: ''
    type: string
  skip:
    description: 'ignore tests'
    required: false
    default: ''
    type: string
runs:
  using: composite
  steps:
  - name: Load Artifact
    uses: ./.github/actions/artfload
    with:
      gitpath:  'build binbuild'
      artifact: "build ${{ inputs.suffix }}"
      owdebug:  ${{ inputs.owdebug }}
  - if: runner.os == 'Linux'
    name: try tests
    run: |
      echo OS=${{ runner.os }}, path=${{ inputs.path }}, skip=${{ inputs.skip }}
    shell: bash
  - if: runner.os == 'Windows'
    name: try tests
    run: |
      echo "OS=${{ runner.os }}, path=${{ inputs.path }}, skip=${{ inputs.skip }}"
    shell: bash
  - if: runner.os == 'macOS'
    name: try tests
    run: |
      echo OS=${{ runner.os }}, path=${{ inputs.path }}, skip=${{ inputs.skip }}
    shell: bash
