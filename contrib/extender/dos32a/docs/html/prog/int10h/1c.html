<html>
<head>
  <title>DOS/32 Advanced DOS Extender - Documentation: Programmer's Reference []</title>
  <link rel="stylesheet" href="../../sheet.css">
</head>
<body bgcolor="#ffffff" link="#0000f0" alink="#f00000" vlink="#700070">

<table cellpadding="0" cellspacing="0" border="0" width="660"><tr><td>



<p>&nbsp;</p>

<p><center><b><i><font color="#990000" size=+2>DOS/32 Advanced DOS Extender
- Programmer's Reference</font></i></b></center></p>

<p><center><hr width="90%" size="1"></center></p>

<p><b><font face="Verdana, Arial, Helvetica">4.02 - VGA function 1Ch - Save/Restore
VGA State </font></b></p>

<p>&nbsp;</p>

<p><center><table width="90%" border="1" cellspacing="0" cellpadding="4">
<tr>
<td width="10%" valign="TOP" bgcolor="#eeeeee"><b><font size=-1 face="Verdana, Arial, Helvetica">In:</font></b></td>
<td width="90%" valign="TOP" bgcolor="#eeeeee"><p><b><font size=-1 face="Verdana, Arial, Helvetica">AH</font></b><font
 size=-1 face="Verdana, Arial, Helvetica"> = 1Ch<br>
<b>AL</b> = subfunction:</font></p>

<blockquote>
  <p><font size=-1 face="Verdana, Arial, Helvetica">00h - get state buffer
  size<br>
  <b>Returns: EBX</b> = number of 64-byte blocks needed<br>
  01h - save video states<br>
  02h - restore video states </font></p>
</blockquote>

<p><b><font size=-1 face="Verdana, Arial, Helvetica">ECX</font></b><font
 size=-1 face="Verdana, Arial, Helvetica"> = states to save/restore:</font></p>

<blockquote>
  <p><font size=-1 face="Verdana, Arial, Helvetica">bit 0 - VGA video hardware
  state<br>
  bit 1 - VGA BIOS data state<br>
  bit 2 - VGA DAC state</font></p>
</blockquote>

<p><b><font size=-1 face="Verdana, Arial, Helvetica">ES:EBX</font></b><font
 size=-1 face="Verdana, Arial, Helvetica"> = pointer to save/restore buffer</font></td></tr>
<tr>
<td valign="TOP" bgcolor="#dedede"><b><font size=-1 face="Verdana, Arial, Helvetica">Out:</font></b></td>
<td valign="TOP" bgcolor="#dedede"><b><font size=-1 face="Verdana, Arial, Helvetica">AL</font></b><font size=-1
 face="Verdana, Arial, Helvetica"> = 1Ch (if function supported by VGA BIOS)</font></td></tr>
</table>
</center></p>

<p><b><font size=-1 face="Verdana, Arial, Helvetica">Notes: </font></b></p>

<blockquote>
  <p><font size=-1 face="Verdana, Arial, Helvetica">a) many BIOSes corrupt
  the video registers when saving the state, so a program should restore
  the state immediately after saving it (the saved data is uncorrupted).</font></p>
  <p><font size=-1 face="Verdana, Arial, Helvetica">b) For subfunctions 01h
  and 02h, the DOS Extender will internally call subfunction 00h to extract
  the information about size of data that is to be copied. </font></p>
</blockquote>

<p>&nbsp;</p>
<p><center><hr width="90%" size="1"></center></p>
<p><center><font size=-2 face="Verdana, Arial, Helvetica">Copyright &copy; DOS/32 Advanced Team 1996-2002<br>All Rights Reserved</font></center>
</td></tr></table>
</body>
</html>
