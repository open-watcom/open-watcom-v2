<html>
<head>
  <title>DOS/32 Advanced DOS Extender - Documentation: Programmer's Reference []</title>
  <link rel="stylesheet" href="../../sheet.css">
</head>
<body bgcolor="#ffffff" link="#0000f0" alink="#f00000" vlink="#700070">

<table cellpadding="0" cellspacing="0" border="0" width="660"><tr><td>



<p>&nbsp;</p>

<p><center><b><i><font color="#990000" size=+2>DOS/32 Advanced DOS Extender
- Programmer's Reference</font></i></b></center></p>

<p><center><hr width="90%" size="1"></center></p>

<p><b><font face="Verdana, Arial, Helvetica">2.03 - DPMI function 0002h
Segment to Descriptor<br>
</font></b></p>

<p><font size=-1 face="Verdana, Arial, Helvetica">Maps a real mode segment
(paragraph) address onto a descriptor that can be used by a protected mode
program to access the same memory.</font></p>

<p>&nbsp;</p>

<p><center><table width="90%" border="1" cellspacing="0" cellpadding="4">
<tr>
<td width="10%" valign="TOP" bgcolor="#eeeeee"><b><font size=-1 face="Verdana, Arial, Helvetica">In:</font></b></td>
<td width="90%" valign="TOP" bgcolor="#eeeeee"><b><font size=-1 face="Verdana, Arial, Helvetica">AX</font></b><font size=-1
 face="Verdana, Arial, Helvetica"> = 0002h<br>
<b>BX</b> = real mode segment address</font></td></tr>
<tr>
<td width="10%" valign="TOP" bgcolor="#dedede"><b><font size=-1 face="Verdana, Arial, Helvetica">Out:</font></b></td>
<td width="90%" valign="TOP" bgcolor="#dedede"><p><font size=-1 face="Verdana, Arial, Helvetica">if successful:<br>
<b>CF</b> clear<br>
<b>AX</b> = selector for real mode segment</font></p>

<p><font size=-1 face="Verdana, Arial, Helvetica">if failed:<br>
<b>CF</b> set<br>
<b>AX</b> = error code</font></p>

<blockquote>
  <p><b><font size=-1 face="Verdana, Arial, Helvetica">8011h</font></b><font
   size=-1 face="Verdana, Arial, Helvetica"> - descriptor unavailable</font></blockquote>
</td></tr>
</table>
</center></p>

<p><b><font size=-1 face="Verdana, Arial, Helvetica">Notes: </font></b></p>

<blockquote>
  <p><font size=-1 face="Verdana, Arial, Helvetica">a) The descriptor's limit
  will be set to 64 KB.</font></p>
  <p><font size=-1 face="Verdana, Arial, Helvetica">b) Multiple calls to
  this function with the same segment address will return the same selector.</font></p>
  <p><font size=-1 face="Verdana, Arial, Helvetica">c) The intent of this
  function is to provide clients with easy access to commonly used real mode
  segments such as the BIOS data area at segment 0040h and the video refresh
  buffers at segments 0A000h, 0B000h, and 0B800h. Clients should not call
  this function to obtain descriptors to private data areas.</font></p>
  <p><font size=-1 face="Verdana, Arial, Helvetica">d) Descriptors created
  by this function can never be modified or freed. For this reason, the function
  should be used sparingly. Clients which need to examine various real mode
  addresses using the same selector should allocate a descriptor with DPMI
  function 0000h and change the base address in the descriptor as necessary,
  using the Set Segment Base Address function DPMI function 0007h.</font></p>
  <p><font size=-1 face="Verdana, Arial, Helvetica">e) DOS/32 Advanced DPMI
  will automatically allocate data selector 0040h to map the BIOS data area
  at segment 0040h. </font></p>
</blockquote>

<p>&nbsp;</p>
<p><center><hr width="90%" size="1"></center></p>
<p><center><font size=-2 face="Verdana, Arial, Helvetica">Copyright &copy; DOS/32 Advanced Team 1996-2002<br>All Rights Reserved</font></center>
</td></tr></table>
</body>
</html>
